/*! For license information please see e8de62db.d7c04712.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[251],{467:(e,n,t)=>{function r(e,n,t,r,i,a,s){try{var o=e[a](s),l=o.value}catch(e){return void t(e)}o.done?n(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(i,a){var s=e.apply(n,t);function o(e){r(s,i,a,o,l,"next",e)}function l(e){r(s,i,a,o,l,"throw",e)}o(void 0)})}}t.d(n,{A:()=>i})},2444:(e,n,t)=>{function r(e,n,t,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}r=function(e,n,t,i){function s(n,t){r(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(s("next",0),s("throw",1),s("return",2))},r(e,n,t,i)}function i(){var e,n,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",s=t.toStringTag||"@@toStringTag";function o(t,i,a,s){var o=i&&i.prototype instanceof c?i:c,d=Object.create(o.prototype);return r(d,"_invoke",function(t,r,i){var a,s,o,c=0,d=i||[],u=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,s=0,o=e,h.n=t,l}};function p(t,r){for(s=t,o=r,n=0;!u&&c&&!i&&n<d.length;n++){var i,a=d[n],p=h.p,g=a[2];t>3?(i=g===r)&&(o=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=t<2&&p<a[1])?(s=0,h.v=r,h.n=a[1]):p<g&&(i=t<3||a[0]>r||r>g)&&(a[4]=t,a[5]=r,h.n=g,s=0))}if(i||t>1)return l;throw u=!0,r}return function(i,d,g){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,g),s=d,o=g;(n=s<2?e:o)||!u;){a||(s?s<3?(s>1&&(h.n=-1),p(s,o)):h.n=o:h.v=o);try{if(c=2,a){if(s||(i="next"),n=a[i]){if(!(n=n.call(a,o)))throw TypeError("iterator result is not an object");if(!n.done)return n;o=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((n=(u=h.n<0)?o:t.call(r,h))!==l)break}catch(n){a=e,s=1,o=n}finally{c=1}}return{value:n,done:u}}}(t,a,s),!0),d}var l={};function c(){}function d(){}function u(){}n=Object.getPrototypeOf;var h=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),p=u.prototype=c.prototype=Object.create(h);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,s,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,r(p,"constructor",u),r(u,"constructor",d),d.displayName="GeneratorFunction",r(u,s,"GeneratorFunction"),r(p),r(p,s,"Generator"),r(p,a,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:g}})()}t.d(n,{A:()=>i})},3741:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>u,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"agent-native/natural-language-api","title":"Natural Language API","description":"The Natural Language API enables AI agents to interact with your photo management application using natural language commands. This API processes text input, classifies user intent, extracts parameters, and translates queries into executable actions.","source":"@site/docs/agent-native/natural-language-api.md","sourceDirName":"agent-native","slug":"/agent-native/natural-language-api","permalink":"/smugmug-api-reference-app/agent-native/natural-language-api","draft":false,"unlisted":false,"editUrl":"https://github.com/signal-x-studio/smugmug-api-reference-app/tree/main/docs-site/docs/agent-native/natural-language-api.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Agent Action Registry","permalink":"/smugmug-api-reference-app/agent-native/action-registry"},"next":{"title":"Interactive Examples","permalink":"/smugmug-api-reference-app/agent-native/interactive-examples"}}');var i=t(4848),a=t(8453),s=t(2444),o=t(467),l=t(6540);const c=function(){var e,n,t,r=(0,l.useState)(""),a=r[0],c=r[1],d=(0,l.useState)(null),u=d[0],h=d[1],p=(0,l.useState)(!1),g=p[0],x=p[1],m={classifyIntent:function(e,n){var t=this;return(0,o.A)((0,s.A)().m(function r(){var i,a,o,l,c,d,u,h,p,g;return(0,s.A)().w(function(r){for(;;)switch(r.n){case 0:return void 0===n&&(n={}),r.n=1,new Promise(function(e){return setTimeout(e,800)});case 1:i={"show me":{intent:"filterPhotos",confidence:.85},find:{intent:"searchPhotos",confidence:.9},"create album":{intent:"createAlbum",confidence:.95},delete:{intent:"deletePhoto",confidence:.88},tag:{intent:"updatePhotoMetadata",confidence:.92},organize:{intent:"batchOrganizePhotos",confidence:.78},slideshow:{intent:"createSlideshow",confidence:.89}},a=e.toLowerCase(),o={intent:"searchPhotos",confidence:.6},l=0,c=Object.entries(i);case 2:if(!(l<c.length)){r.n=4;break}if(d=c[l],u=d[0],h=d[1],!a.includes(u)){r.n=3;break}return o=h,r.a(3,4);case 3:l++,r.n=2;break;case 4:return p=t.extractEntities(e),g=t.generateParameters(o.intent,p,e),r.a(2,{intent:o.intent,parameters:g,confidence:o.confidence,entities:p,alternativeIntents:t.generateAlternatives(o,e),processingTime:200*Math.random()+100})}},r)}))()},extractEntities:function(e){var n={dates:[],locations:[],people:[],keywords:[],albums:[],qualities:[]};[{pattern:/last summer/i,value:{start:"2023-06-01",end:"2023-08-31",context:"seasonal"}},{pattern:/2023/i,value:{start:"2023-01-01",end:"2023-12-31",year:2023}},{pattern:/recent/i,value:{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],context:"recent"}},{pattern:/wedding/i,value:{context:"event",eventType:"wedding"}}].forEach(function(t){var r=t.pattern,i=t.value;r.test(e)&&n.dates.push(i)});[{pattern:/beach/i,value:"beach"},{pattern:/mountain/i,value:"mountain"},{pattern:/vacation/i,value:"vacation destination"}].forEach(function(t){var r=t.pattern,i=t.value;r.test(e)&&n.locations.push(i)});for(var t,r=/(?:of|with)\s+([A-Z][a-z]+)(?:\s+and\s+([A-Z][a-z]+))?/g;null!==(t=r.exec(e));)n.people.push(t[1]),t[2]&&n.people.push(t[2]);[{pattern:/sunset/i,value:"sunset"},{pattern:/dogs?/i,value:"dog"},{pattern:/landscape/i,value:"landscape"},{pattern:/top.rated|best/i,value:"high-rating"}].forEach(function(t){var r=t.pattern,i=t.value;r.test(e)&&n.keywords.push(i)});for(var i=/'([^']+)'/g;null!==(t=i.exec(e));)n.albums.push(t[1]);return[{pattern:/blurry/i,value:"blurry"},{pattern:/top.rated|best/i,value:"high-quality"}].forEach(function(t){var r=t.pattern,i=t.value;r.test(e)&&n.qualities.push(i)}),n},generateParameters:function(e,n,t){var r={};switch(e){case"filterPhotos":case"searchPhotos":n.keywords.length>0&&(r.keywords=n.keywords),n.dates.length>0&&(r.dateRange=n.dates[0]),n.locations.length>0&&(r.location=n.locations[0]),n.people.length>0&&(r.people=n.people),n.qualities.length>0&&(r.quality=n.qualities[0]),r.limit=50;break;case"createAlbum":n.albums.length>0&&(r.name=n.albums[0]),n.keywords.includes("high-rating")&&(r.criteria={minRating:4}),n.dates.length>0&&(r.dateFilter=n.dates[0]);break;case"updatePhotoMetadata":if(t.includes("tag")){var i=t.match(/as ['"']([^'"]+)['"']|as (\w+)/i);i&&(r.updates={keywords:[i[1]||i[2]]})}n.keywords.length>0&&(r.targetPhotos={keywords:n.keywords});break;case"deletePhoto":n.qualities.length>0&&(r.criteria={quality:n.qualities[0]}),r.requireConfirmation=!0;break;case"batchOrganizePhotos":r.method="byDate",r.createAlbums=!0;break;case"createSlideshow":n.keywords.length>0&&(r.filterBy={keywords:n.keywords}),n.dates.length>0&&(r.filterBy=Object.assign({},r.filterBy,n.dates[0])),r.autoTransition=!0}return r},generateAlternatives:function(e,n){return[{intent:"searchPhotos",confidence:.15},{intent:"filterPhotos",confidence:.12},{intent:"createAlbum",confidence:.08}].filter(function(n){return n.intent!==e.intent}).slice(0,2)}},f=function(){var e=(0,o.A)((0,s.A)().m(function e(){var n,t,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.trim()){e.n=1;break}return e.a(2);case 1:return x(!0),h(null),e.p=2,e.n=3,m.classifyIntent(a);case 3:n=e.v,t={originalQuery:a,understanding:n,suggestedAction:{id:n.intent,parameters:n.parameters,description:v(n.intent,n.parameters)},confidence:n.confidence,needsConfirmation:n.confidence<.8||["deletePhoto","batchOrganizePhotos"].includes(n.intent),timestamp:(new Date).toISOString()},h(t),e.n=5;break;case 4:e.p=4,r=e.v,h({error:!0,message:"Failed to process query",details:r.message});case 5:return e.p=5,x(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),v=function(e,n){var t;switch(e){case"filterPhotos":return"Filter photos"+(n.keywords?" containing "+n.keywords.join(", "):"")+(n.dateRange?" from "+(n.dateRange.context||"specified period"):"");case"searchPhotos":return"Search for photos"+(n.keywords?" matching "+n.keywords.join(", "):"")+(n.people?" featuring "+n.people.join(", "):"");case"createAlbum":return"Create album"+(n.name?' named "'+n.name+'"':"")+(n.criteria?" with selected criteria":"");case"updatePhotoMetadata":return"Update photo metadata"+(null!=(t=n.updates)&&t.keywords?" to add tags: "+n.updates.keywords.join(", "):"");case"deletePhoto":return"Delete photos"+(n.criteria?" matching criteria ("+JSON.stringify(n.criteria)+")":"");case"batchOrganizePhotos":return"Automatically organize photos by "+n.method;case"createSlideshow":return"Create slideshow"+(n.filterBy?" with filtered photos":"");default:return"Execute "+e+" action"}};return(0,i.jsxs)("div",{style:{border:"1px solid #e1e4e8",borderRadius:"8px",padding:"20px",margin:"20px 0",backgroundColor:"#f8f9fa"},children:[(0,i.jsx)("h3",{children:"\ud83d\udde3\ufe0f Natural Language Query Tester"}),(0,i.jsx)("p",{children:"Test how natural language queries are processed and translated into actions."}),(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("h4",{children:"Try These Sample Queries:"}),(0,i.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["Show me sunset photos from last summer","Create an album called 'Best of 2023' with my top-rated photos","Find pictures of Sarah at the beach","Delete blurry photos from my vacation album","Tag all mountain photos as 'landscape'","Organize my photos by date automatically","Show me recent photos with dogs","Create a slideshow of my wedding photos"].map(function(e,n){return(0,i.jsx)("button",{onClick:function(){return c(e),void h(null)},style:{padding:"6px 12px",fontSize:"12px",border:"1px solid #0366d6",borderRadius:"16px",backgroundColor:"white",color:"#0366d6",cursor:"pointer",transition:"all 0.2s"},onMouseOver:function(e){return e.target.style.backgroundColor="#f1f8ff"},onMouseOut:function(e){return e.target.style.backgroundColor="white"},children:e},n)})})]}),(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("h4",{children:"Enter Your Query:"}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,i.jsx)("textarea",{value:a,onChange:function(e){return c(e.target.value)},placeholder:"Type a natural language query like 'Show me sunset photos from last summer'...",style:{flex:1,padding:"12px",border:"1px solid #d1d5da",borderRadius:"4px",fontSize:"14px",minHeight:"60px",resize:"vertical"},onKeyDown:function(e){"Enter"===e.key&&e.ctrlKey&&f()}}),(0,i.jsx)("button",{onClick:f,disabled:g||!a.trim(),style:{padding:"12px 24px",backgroundColor:g||!a.trim()?"#6a737d":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:g||!a.trim()?"not-allowed":"pointer",fontSize:"14px",whiteSpace:"nowrap"},children:g?"\ud83d\udd04 Processing...":"\ud83d\ude80 Process Query"})]}),(0,i.jsx)("small",{style:{color:"#6a737d"},children:"\ud83d\udca1 Tip: Press Ctrl+Enter to process the query"})]}),u&&(0,i.jsxs)("div",{style:{marginTop:"20px"},children:[(0,i.jsx)("h4",{children:"Processing Results"}),u.error?(0,i.jsxs)("div",{style:{padding:"15px",backgroundColor:"#ffeef0",border:"1px solid #f87171",borderRadius:"4px",color:"#d73027"},children:[(0,i.jsx)("strong",{children:"Error:"})," ",u.message,u.details&&(0,i.jsx)("div",{style:{marginTop:"8px",fontSize:"12px"},children:u.details})]}):(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{children:"\ud83e\udde0 Query Understanding"}),(0,i.jsxs)("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",border:"1px solid #e1e4e8"},children:[(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("strong",{children:"Intent:"}),(0,i.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:"#f1f8ff",border:"1px solid #0366d6",borderRadius:"12px",fontSize:"12px"},children:u.understanding.intent})]}),(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("strong",{children:"Confidence:"}),(0,i.jsxs)("span",{style:{marginLeft:"8px",color:(t=u.confidence,t>=.8?"#28a745":t>=.6?"#ffc107":"#dc3545"),fontWeight:"bold"},children:[(100*u.confidence).toFixed(1),"%"]})]}),u.needsConfirmation&&(0,i.jsx)("div",{style:{padding:"8px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",fontSize:"12px"},children:"\u26a0\ufe0f This action requires user confirmation"}),Object.keys(u.understanding.entities).some(function(e){return u.understanding.entities[e].length>0})&&(0,i.jsxs)("div",{style:{marginTop:"10px"},children:[(0,i.jsx)("strong",{children:"Extracted Entities:"}),(0,i.jsx)("div",{style:{fontSize:"12px",marginTop:"5px"},children:Object.entries(u.understanding.entities).map(function(e){var n=e[0],t=e[1];return t.length>0&&(0,i.jsxs)("div",{style:{margin:"2px 0"},children:[(0,i.jsxs)("span",{style:{color:"#6a737d"},children:[n,":"]})," ",t.join(", ")]},n)})})]}),(null==(e=u.understanding.alternativeIntents)?void 0:e.length)>0&&(0,i.jsxs)("div",{style:{marginTop:"10px"},children:[(0,i.jsx)("strong",{children:"Alternative Intents:"}),(0,i.jsx)("div",{style:{fontSize:"11px",marginTop:"5px"},children:u.understanding.alternativeIntents.map(function(e,n){return(0,i.jsxs)("div",{style:{color:"#6a737d"},children:[e.intent," (",(100*e.confidence).toFixed(1),"%)"]},n)})})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{children:"\u26a1 Suggested Action"}),(0,i.jsxs)("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",border:"1px solid #e1e4e8"},children:[(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("strong",{children:"Action ID:"})," ",(0,i.jsx)("code",{children:u.suggestedAction.id})]}),(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("strong",{children:"Description:"})," ",u.suggestedAction.description]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Parameters:"}),(0,i.jsx)("pre",{style:{fontSize:"11px",backgroundColor:"#f6f8fa",padding:"8px",borderRadius:"4px",margin:"5px 0 0 0",overflow:"auto",maxHeight:"150px"},children:JSON.stringify(u.suggestedAction.parameters,null,2)})]}),(0,i.jsx)("button",{style:{marginTop:"10px",padding:"8px 16px",backgroundColor:u.needsConfirmation?"#ffc107":"#28a745",color:u.needsConfirmation?"#212529":"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},onClick:function(){return alert("Would execute: "+u.suggestedAction.id)},children:u.needsConfirmation?"\u26a0\ufe0f Execute (Confirmation Required)":"\u25b6\ufe0f Execute Action"})]})]})]}),u.understanding&&(0,i.jsxs)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e8f5e8",border:"1px solid #28a745",borderRadius:"4px",fontSize:"12px",color:"#155724"},children:[(0,i.jsx)("strong",{children:"Processing Stats:"}),"Completed in ",null==(n=u.understanding.processingTime)?void 0:n.toFixed(0),"ms \u2022 Entities extracted: ",Object.values(u.understanding.entities).flat().length," \u2022 Timestamp: ",new Date(u.timestamp).toLocaleTimeString()]})]}),(0,i.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px"},children:[(0,i.jsx)("strong",{children:"\ud83d\udca1 How it Works:"}),(0,i.jsxs)("ul",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:[(0,i.jsx)("li",{children:"The NLP processor analyzes your natural language input"}),(0,i.jsx)("li",{children:"It identifies the user's intent and extracts relevant entities (dates, people, keywords)"}),(0,i.jsx)("li",{children:"The system translates this into a structured action call with parameters"}),(0,i.jsx)("li",{children:"Confidence scores help determine if confirmation is needed"})]})]})]})},d={},u="Natural Language API",h={},p=[{value:"Overview",id:"overview",level:2},{value:"Core API Methods",id:"core-api-methods",level:2},{value:"classifyIntent(text, context?)",id:"classifyintenttext-context",level:3},{value:"extractEntities(text)",id:"extractentitiestext",level:3},{value:"processQuery(text, options?)",id:"processquerytext-options",level:3},{value:"Supported Intent Categories",id:"supported-intent-categories",level:2},{value:"Photo Operations",id:"photo-operations",level:3},{value:"Filter and Search Intents",id:"filter-and-search-intents",level:4},{value:"Photo Management Intents",id:"photo-management-intents",level:4},{value:"Album Operations",id:"album-operations",level:3},{value:"Album Creation",id:"album-creation",level:4},{value:"Album Management",id:"album-management",level:4},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Smart Organization",id:"smart-organization",level:4},{value:"Bulk Updates",id:"bulk-updates",level:4},{value:"Natural Language Query Tester",id:"natural-language-query-tester",level:2},{value:"Entity Recognition Patterns",id:"entity-recognition-patterns",level:2},{value:"Date and Time Parsing",id:"date-and-time-parsing",level:3},{value:"Location Recognition",id:"location-recognition",level:3},{value:"People Recognition",id:"people-recognition",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Multi-Turn Conversations",id:"multi-turn-conversations",level:3},{value:"Ambiguity Resolution",id:"ambiguity-resolution",level:3},{value:"Confidence Thresholds",id:"confidence-thresholds",level:3},{value:"Integration Patterns",id:"integration-patterns",level:2},{value:"Voice Assistant Integration",id:"voice-assistant-integration",level:3},{value:"Browser Agent Integration",id:"browser-agent-integration",level:3},{value:"Workflow Automation",id:"workflow-automation",level:3},{value:"Error Handling and Fallbacks",id:"error-handling-and-fallbacks",level:2},{value:"Graceful Degradation",id:"graceful-degradation",level:3},{value:"Learning from Corrections",id:"learning-from-corrections",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Caching Strategies",id:"caching-strategies",level:3},{value:"Batch Processing",id:"batch-processing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Provide Context",id:"1-provide-context",level:3},{value:"2. Handle Confidence Appropriately",id:"2-handle-confidence-appropriately",level:3},{value:"3. Provide Feedback",id:"3-provide-feedback",level:3},{value:"4. Enable Corrections",id:"4-enable-corrections",level:3},{value:"Next Steps",id:"next-steps",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"natural-language-api",children:"Natural Language API"})}),"\n",(0,i.jsx)(n.p,{children:"The Natural Language API enables AI agents to interact with your photo management application using natural language commands. This API processes text input, classifies user intent, extracts parameters, and translates queries into executable actions."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["The Natural Language Processing (NLP) system is accessible through ",(0,i.jsx)(n.code,{children:"window.nlpProcessor"})," and provides:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Intent Classification"}),": Understand what the user wants to do"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameter Extraction"}),": Pull relevant details from natural language"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Query Translation"}),": Convert queries into structured action calls"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Confidence Scoring"}),": Measure certainty of interpretations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ambiguity Handling"}),": Request clarification when needed"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"core-api-methods",children:"Core API Methods"}),"\n",(0,i.jsx)(n.h3,{id:"classifyintenttext-context",children:"classifyIntent(text, context?)"}),"\n",(0,i.jsx)(n.p,{children:"Analyzes text to determine user intent and extract parameters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const result = await window.nlpProcessor.classifyIntent(\n  \"Show me sunset photos from last summer\",\n  { currentView: 'gallery', userPreferences: {...} }\n);\n\n// Returns:\n{\n  intent: 'filterPhotos',\n  parameters: {\n    keywords: ['sunset'],\n    dateRange: { start: '2023-06-01', end: '2023-08-31' },\n    context: 'seasonal'\n  },\n  confidence: 0.92,\n  alternativeIntents: [\n    { intent: 'searchPhotos', confidence: 0.15 }\n  ]\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"extractentitiestext",children:"extractEntities(text)"}),"\n",(0,i.jsx)(n.p,{children:"Extracts structured entities from natural language text."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const entities = await window.nlpProcessor.extractEntities(\n  \"Find photos of John and Sarah at the beach in California from December 2022\"\n);\n\n// Returns:\n{\n  people: ['John', 'Sarah'],\n  locations: ['beach', 'California'],\n  dates: [{ year: 2022, month: 12 }],\n  keywords: ['beach'],\n  confidence: {\n    people: 0.95,\n    locations: 0.88,\n    dates: 0.99\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"processquerytext-options",children:"processQuery(text, options?)"}),"\n",(0,i.jsx)(n.p,{children:"Complete query processing pipeline from text to executable action."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const result = await window.nlpProcessor.processQuery(\n  \"Create an album called 'Best of 2023' with my highest rated photos\",\n  { \n    autoExecute: false,  // Don't execute immediately\n    requireConfirmation: true \n  }\n);\n\n// Returns:\n{\n  understanding: {\n    intent: 'createAlbum',\n    parameters: {\n      name: 'Best of 2023',\n      criteria: { minRating: 4 },\n      autoSelect: true\n    },\n    confidence: 0.89\n  },\n  action: {\n    id: 'createAlbum',\n    parameters: {...},\n    estimatedResults: 23\n  },\n  needsConfirmation: true,\n  confirmationMessage: \"Create album 'Best of 2023' with 23 highly rated photos?\"\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"supported-intent-categories",children:"Supported Intent Categories"}),"\n",(0,i.jsx)(n.h3,{id:"photo-operations",children:"Photo Operations"}),"\n",(0,i.jsx)(n.h4,{id:"filter-and-search-intents",children:"Filter and Search Intents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Show me photos from [time]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"filterPhotos"})," with date parameters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Find pictures of [subject]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"searchPhotos"})," with keyword parameters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Photos taken in [location]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"filterPhotos"})," with location parameters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"My best [category] photos"'})," \u2192 ",(0,i.jsx)(n.code,{children:"filterPhotos"})," with rating/category filters"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"photo-management-intents",children:"Photo Management Intents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Delete this photo"'})," \u2192 ",(0,i.jsx)(n.code,{children:"deletePhoto"})," action"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Tag these photos as [tag]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"updatePhotoMetadata"})," with keyword updates"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Set this as my profile picture"'})," \u2192 ",(0,i.jsx)(n.code,{children:"setProfilePhoto"})," action"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Download these photos"'})," \u2192 ",(0,i.jsx)(n.code,{children:"exportPhotos"})," action"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"album-operations",children:"Album Operations"}),"\n",(0,i.jsx)(n.h4,{id:"album-creation",children:"Album Creation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Create album [name]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"createAlbum"})," with specified name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Make a slideshow of [criteria]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"createAlbum"})," with presentation mode"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Group photos by [criteria]"'})," \u2192 Multiple ",(0,i.jsx)(n.code,{children:"createAlbum"})," calls with grouping logic"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"album-management",children:"Album Management"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Add these photos to [album]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"addPhotosToAlbum"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Remove [photo] from [album]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"removePhotosFromAlbum"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Rename album to [name]"'})," \u2192 ",(0,i.jsx)(n.code,{children:"updateAlbumMetadata"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"batch-operations",children:"Batch Operations"}),"\n",(0,i.jsx)(n.h4,{id:"smart-organization",children:"Smart Organization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Organize my photos automatically"'})," \u2192 ",(0,i.jsx)(n.code,{children:"batchOrganizePhotos"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Find and delete duplicates"'})," \u2192 ",(0,i.jsx)(n.code,{children:"findDuplicates"})," + confirmation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Clean up blurry photos"'})," \u2192 ",(0,i.jsx)(n.code,{children:"filterPhotos"})," with quality filters"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"bulk-updates",children:"Bulk Updates"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Tag all beach photos as vacation"'})," \u2192 ",(0,i.jsx)(n.code,{children:"batchUpdateMetadata"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Resize all photos in this album"'})," \u2192 ",(0,i.jsx)(n.code,{children:"batchProcessPhotos"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:'"Generate thumbnails for new uploads"'})," \u2192 ",(0,i.jsx)(n.code,{children:"batchProcessPhotos"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"natural-language-query-tester",children:"Natural Language Query Tester"}),"\n",(0,i.jsx)(n.p,{children:"Try out the natural language processing capabilities:"}),"\n","\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(n.h2,{id:"entity-recognition-patterns",children:"Entity Recognition Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"date-and-time-parsing",children:"Date and Time Parsing"}),"\n",(0,i.jsx)(n.p,{children:"The NLP system recognizes various temporal expressions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Absolute dates\n\"photos from January 15, 2023\" \u2192 { start: '2023-01-15', end: '2023-01-15' }\n\"pictures taken on Christmas 2022\" \u2192 { start: '2022-12-25', end: '2022-12-25' }\n\n// Relative dates  \n\"photos from last week\" \u2192 { start: '2023-10-01', end: '2023-10-07' }\n\"recent photos\" \u2192 { start: '2023-10-01', end: 'now' }\n\"older photos\" \u2192 { end: '2022-12-31' }\n\n// Seasonal references\n\"summer vacation photos\" \u2192 { start: '2023-06-01', end: '2023-08-31' }\n\"holiday photos\" \u2192 { start: '2023-11-15', end: '2024-01-15' }\n\n// Special occasions\n\"birthday photos\" \u2192 Tagged with 'birthday', date context\n\"wedding photos\" \u2192 Tagged with 'wedding', formal event context\n"})}),"\n",(0,i.jsx)(n.h3,{id:"location-recognition",children:"Location Recognition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Specific places\n\"photos from Paris\" \u2192 { location: 'Paris', type: 'city' }\n\"beach photos\" \u2192 { keywords: ['beach'], locationContext: 'coastal' }\n\"mountain hiking pictures\" \u2192 { keywords: ['mountain', 'hiking'], activity: 'outdoor' }\n\n// Geographic regions  \n\"California road trip photos\" \u2192 { region: 'California', activity: 'travel' }\n\"European vacation photos\" \u2192 { region: 'Europe', activity: 'travel' }\n\n// Venue types\n\"restaurant photos\" \u2192 { venueType: 'restaurant', category: 'food' }\n\"concert photos\" \u2192 { venueType: 'venue', category: 'music' }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"people-recognition",children:"People Recognition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Named individuals\n\"photos of Sarah\" \u2192 { people: ['Sarah'] }\n\"pictures with John and Mike\" \u2192 { people: ['John', 'Mike'] }\n\n// Relationship contexts\n\"family photos\" \u2192 { category: 'family', peopleContext: 'related' }\n\"friend photos\" \u2192 { category: 'social', peopleContext: 'friends' }\n\"selfies\" \u2192 { category: 'self', composition: 'selfie' }\n\n// Group dynamics\n\"group photos\" \u2192 { composition: 'group', minPeople: 3 }\n\"couple photos\" \u2192 { composition: 'couple', exactPeople: 2 }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,i.jsx)(n.h3,{id:"multi-turn-conversations",children:"Multi-Turn Conversations"}),"\n",(0,i.jsx)(n.p,{children:"The NLP system maintains conversation context:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Initial query\nawait window.nlpProcessor.processQuery("Show me vacation photos");\n\n// Follow-up query (maintains context)\nawait window.nlpProcessor.processQuery(\n  "Now just the ones from Italy",\n  { conversationId: \'conv-123\', maintainContext: true }\n);\n\n// Further refinement\nawait window.nlpProcessor.processQuery(\n  "Create an album with the best ones",\n  { conversationId: \'conv-123\', maintainContext: true }\n);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ambiguity-resolution",children:"Ambiguity Resolution"}),"\n",(0,i.jsx)(n.p,{children:"When queries are ambiguous, the system requests clarification:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const result = await window.nlpProcessor.processQuery(\"Delete these photos\");\n\nif (result.needsClarification) {\n  // Returns:\n  {\n    clarificationNeeded: true,\n    ambiguity: {\n      type: 'referenceAmbiguity',\n      field: 'photoSelection',\n      question: 'Which photos would you like to delete?',\n      options: [\n        'Currently selected photos (5 items)',\n        'All photos in current view (127 items)', \n        'All photos in current album (43 items)'\n      ]\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"confidence-thresholds",children:"Confidence Thresholds"}),"\n",(0,i.jsx)(n.p,{children:"Configure confidence requirements for different action types:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"window.nlpProcessor.configure({\n  confidenceThresholds: {\n    destructiveActions: 0.95,  // Delete, overwrite operations\n    creativeActions: 0.80,     // Create albums, tag photos  \n    queryActions: 0.60,        // Search, filter operations\n    ambiguousActions: 0.85     // Actions affecting multiple items\n  },\n  fallbackBehavior: 'requestClarification'\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"integration-patterns",children:"Integration Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"voice-assistant-integration",children:"Voice Assistant Integration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Voice assistant processes speech-to-text\nconst speechText = \"Find my sunset photos and create a slideshow\";\n\n// NLP processes the text intent\nconst nlpResult = await window.nlpProcessor.processQuery(speechText, {\n  inputMode: 'voice',\n  confidenceBoost: 0.1  // Account for speech recognition uncertainty\n});\n\n// Execute the resulting action\nif (nlpResult.understanding.confidence > 0.8) {\n  await window.agentActions[nlpResult.action.id](nlpResult.action.parameters);\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"browser-agent-integration",children:"Browser Agent Integration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Browser agent observes page context\nconst pageContext = {\n  currentView: 'album-view',\n  selectedPhotos: ['photo-1', 'photo-2'],\n  visibleAlbums: ['vacation-2023', 'family-photos']\n};\n\n// Natural language command with context\nconst result = await window.nlpProcessor.processQuery(\n  \"Add these to my family album\",\n  { context: pageContext }\n);\n\n// Context helps resolve \"these\" and \"family album\"\n// Result: addPhotosToAlbum({ albumId: 'family-photos', photoIds: ['photo-1', 'photo-2'] })\n"})}),"\n",(0,i.jsx)(n.h3,{id:"workflow-automation",children:"Workflow Automation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Define natural language workflow triggers\nconst workflows = [\n  {\n    trigger: /organize my (.*) photos/i,\n    handler: async (match, context) => {\n      const category = match[1];\n      return await window.nlpProcessor.processQuery(\n        `Create albums by date for all ${category} photos and remove duplicates`,\n        { batchMode: true, requireConfirmation: true }\n      );\n    }\n  }\n];\n\n// Register workflows with NLP processor\nwindow.nlpProcessor.registerWorkflows(workflows);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"error-handling-and-fallbacks",children:"Error Handling and Fallbacks"}),"\n",(0,i.jsx)(n.h3,{id:"graceful-degradation",children:"Graceful Degradation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"try {\n  const result = await window.nlpProcessor.processQuery(userInput);\n  \n  if (result.understanding.confidence < 0.6) {\n    // Low confidence - offer alternatives\n    showAlternativeSuggestions(result.alternativeIntents);\n  } else {\n    // High confidence - proceed with action\n    executeAction(result.action);\n  }\n} catch (error) {\n  if (error.type === 'UnsupportedIntent') {\n    // Fallback to traditional search\n    fallbackToKeywordSearch(userInput);\n  } else {\n    // Handle other errors gracefully\n    showErrorMessage('Sorry, I didn\\'t understand that. Try rephrasing?');\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"learning-from-corrections",children:"Learning from Corrections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// When user corrects an interpretation\nwindow.nlpProcessor.submitCorrection({\n  originalQuery: \"Show me beach photos\",\n  originalIntent: { intent: 'searchPhotos', parameters: { keywords: ['beach'] } },\n  correctedIntent: { intent: 'filterPhotos', parameters: { location: 'beach' } },\n  feedback: 'User wanted location filter, not keyword search'\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"caching-strategies",children:"Caching Strategies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Cache common query patterns\nwindow.nlpProcessor.configure({\n  caching: {\n    enabled: true,\n    ttl: 300000, // 5 minutes\n    maxEntries: 1000,\n    keyStrategy: 'semantic' // Cache by meaning, not exact text\n  }\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"batch-processing",children:"Batch Processing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Process multiple queries efficiently\nconst queries = [\n  "sunset photos",\n  "beach vacation pictures", \n  "family dinner photos"\n];\n\nconst results = await window.nlpProcessor.batchProcess(queries, {\n  parallel: true,\n  shareContext: false\n});\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-provide-context",children:"1. Provide Context"}),"\n",(0,i.jsx)(n.p,{children:"Always include relevant context to improve interpretation accuracy:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const context = {\n  currentPage: 'album-view',\n  selectedItems: [...],\n  userPreferences: {...},\n  recentActions: [...]\n};\n\nawait window.nlpProcessor.processQuery(query, { context });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-handle-confidence-appropriately",children:"2. Handle Confidence Appropriately"}),"\n",(0,i.jsx)(n.p,{children:"Use confidence scores to determine appropriate actions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"if (confidence > 0.9) {\n  executeImmediately();\n} else if (confidence > 0.7) {\n  showConfirmationDialog();\n} else {\n  requestClarification();\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-provide-feedback",children:"3. Provide Feedback"}),"\n",(0,i.jsx)(n.p,{children:"Help users understand what the system interpreted:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const result = await window.nlpProcessor.processQuery(query);\n\nshowInterpretation({\n  understood: result.understanding.summary,\n  action: result.action.description,\n  confidence: result.understanding.confidence\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-enable-corrections",children:"4. Enable Corrections"}),"\n",(0,i.jsx)(n.p,{children:"Allow users to correct misinterpretations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"if (result.understanding.confidence < 0.8) {\n  showAlternatives({\n    primary: result.understanding,\n    alternatives: result.alternativeIntents,\n    allowEdit: true\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/smugmug-api-reference-app/agent-native/action-registry",children:"Action Registry"})," - Explore available programmatic actions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/smugmug-api-reference-app/agent-native/interactive-examples",children:"Interactive Examples"})," - Complete agent interaction workflows"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/smugmug-api-reference-app/agent-native/implementation-guide",children:"Implementation Guide"})," - Add agent-native features to your app"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);